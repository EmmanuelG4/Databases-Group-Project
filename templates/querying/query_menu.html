{% extends "layout.html" %}

{% block title %}Query Menu{% endblock %}

{% block content %}
<div class="container">
    <h2>Query & Reporting Menu</h2>
    <p>
        Use this page to run different reports on degrees, courses, instructors, and evaluation results.
        Pick the type of information you want to see and then fill out the form on the next page.
    </p>

    <div class="menu-sections">
        <!-- Degree-Based Queries -->
        <section class="card">
            <h3>ðŸŽ“ Degree-Based Queries</h3>
            <p>These reports focus on a single degree program.</p>
            <ul>
                <li>
                    <a href="{{ url_for('querying.query_degree_details') }}">
                        Degree Details: Courses & Objectives
                    </a>
                    <small>
                        Pick a degree and see all its courses (core and non-core), objectives,
                        and which courses are tied to which objectives.
                    </small>
                </li>
                <li>
                    <a href="{{ url_for('querying.query_degree_sections') }}">
                        Degree Sections Over Time
                    </a>
                    <small>
                        Pick a degree and a year range to list all sections of courses that belong
                        to that degree, in chronological order.
                    </small>
                </li>
            </ul>
        </section>

        <!-- Course / Instructor Queries -->
        <section class="card">
            <h3>ðŸ“š Course & Instructor Queries</h3>
            <p>These reports focus on a specific course or a specific instructor.</p>
            <ul>
                <li>
                    <a href="{{ url_for('querying.query_course_sections') }}">
                        Sections for a Course
                    </a>
                    <small>
                        Pick a course and a year range to see all sections of that course,
                        including who taught them and how many students were enrolled.
                    </small>
                </li>
                <li>
                    <a href="{{ url_for('querying.query_instructor_sections') }}">
                        Sections for an Instructor
                    </a>
                    <small>
                        Pick an instructor and a year range to list all the sections
                        they have taught.
                    </small>
                </li>
            </ul>
        </section>

        <!-- Evaluation-Based Queries -->
        <section class="card">
            <h3>ðŸ“Š Evaluation-Based Queries</h3>
            <p>These reports use the evaluation data (A/B/C/F counts and improvements).</p>
            <ul>
                <li>
                    <a href="{{ url_for('querying.query_evaluation_status') }}">
                        Evaluation Status by Semester
                    </a>
                    <small>
                        Pick a term and year to see, for each section and degree, whether
                        evaluation info is fully entered, partially entered, or missing,
                        and if the optional improvement paragraph is there.
                    </small>
                </li>
                <li>
                    <a href="{{ url_for('querying.query_grade_percentage') }}">
                        Sections Meeting Grade Percentage
                    </a>
                    <small>
                        Pick a term, year, and percentage (like 70%) to find sections where
                        at least that percentage of students did not get an F.
                    </small>
                </li>
            </ul>
        </section>
    </div>
</div>

<style>
    .menu-sections {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
    }
    .card {
        flex: 1 1 280px;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        background-color: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .card h3 {
        border-bottom: 2px solid #5cb85c;
        padding-bottom: 8px;
        margin-top: 0;
        margin-bottom: 12px;
    }
    .card ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }
    .card li {
        margin-bottom: 10px;
    }
    .card a {
        display: inline-block;
        font-weight: 600;
        text-decoration: none;
        color: #007bff;
    }
    .card a:hover {
        text-decoration: underline;
    }
    .card small {
        display: block;
        font-size: 0.85em;
        color: #555;
        margin-top: 2px;
    }
</style>
{% endblock %}
