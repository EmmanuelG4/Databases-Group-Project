{% extends "layout.html" %}

{% block title %}Add Course Section{% endblock %}

{% block content %}
<div class="container">
    <h2>Enter Course/Section for a Given Semester</h2>
    <p>This creates a unique course offering and assigns the primary instructor.</p>
    
    <form method="POST" action="{{ url_for('data_entry.add_section') }}">
        
        <div class="form-group">
            <label for="course_select">Select Course (Required):</label>
            <select id="course_select" name="course_num" required>
                <option value="">-- Select Course --</option>
                {% for course in courses %}
                <option value="{{ course.course_num }}">{{ course.course_num }} - {{ course.course_name }}</option>
                {% endfor %}
            </select>
            <small>The course must exist in the database.</small>
        </div>

        <div class="form-group">
            <label for="sec_num">Section Number (Required):</label>
            <input 
                type="text" 
                id="sec_num" 
                name="sec_num" 
                required 
                maxlength="3" 
                placeholder="e.g., 001">
            [cite_start]<small>A 3-digit number associated with the section[cite: 15].</small>
        </div>

        <div class="form-group-inline">
            <div class="form-group">
                <label for="sec_term">Semester Term (Required):</label>
                <select id="sec_term" name="sec_term" required>
                    <option value="">-- Select Term --</option>
                    {% for term in terms %}
                    <option value="{{ term }}">{{ term }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="sec_year">Year (Required):</label>
                <input 
                    type="number" 
                    id="sec_year" 
                    name="sec_year" 
                    required 
                    min="2000" 
                    max="2100" 
                    placeholder="e.g., 2025">
            </div>
        </div>

        <div class="form-group">
            <label for="num_students">Number of Students Enrolled (Required):</label>
            <input 
                type="number" 
                id="num_students" 
                name="num_students" 
                required 
                min="0" 
                placeholder="e.g., 30">
            [cite_start]<small>Record the number of students enrolled in this section[cite: 16].</small>
        </div>
        
        <div class="form-group">
            <label for="instructor_select">Select Instructor (Required):</label>
            <select id="instructor_select" name="instructor_id" required>
                <option value="">-- Select Instructor --</option>
                {% for instructor in instructors %}
                <option value="{{ instructor.instructor_id }}">{{ instructor.instructor_name }} (ID: {{ instructor.instructor_id }})</option>
                {% endfor %}
            </select>
            [cite_start]<small>Each section is taught by an instructor[cite: 17].</small>
        </div>

        <button type="submit" class="btn btn-primary">Add Section & Assign Instructor</button>
    </form>
</div>

<style>
    /* Add basic styling for inline elements */
    .form-group-inline {
        display: flex;
        gap: 20px;
    }
    .form-group-inline .form-group {
        flex: 1;
    }
</style>
{% endblock %}