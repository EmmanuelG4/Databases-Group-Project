{% extends "layout.html" %}

{% block title %}Add Course Section{% endblock %}

{% block content %}
<div class="container">
     <!-- Container keeps the form centered and readable -->
    <h2>Add a Course Section</h2>
    <p>Use this form to enter a specific course section for a semester and assign whoâ€™s teaching it.</p>
    
    <form method="POST" action="{{ url_for('data_entry.add_section') }}">
         <!-- Sends section and instructor data to the add_section route -->

        <div class="form-group">
            <label for="course_select">Select Course (Required):</label>
            <select id="course_select" name="course_num" required>
                <option value="">-- Select Course --</option>
                {% for course in courses %}
                  <!-- Course list is populated dynamically from existing courses -->
                <option value="{{ course.course_num }}">{{ course.course_num }} - {{ course.course_name }}</option>
                {% endfor %}
            </select>
            <small>The course has to already exist in the system.</small>
        </div>

        <div class="form-group">
            <label for="sec_num">Section Number (Required):</label>
            <input 
                type="text" 
                id="sec_num" 
                name="sec_num" 
                required 
                maxlength="3" 
                placeholder="Example: 001">
            <small>Use a 3-digit section number.</small>
        </div>

        <div class="form-group-inline">
            <!-- Groups term and year together on the same row -->
            <div class="form-group">
                <label for="sec_term">Semester Term (Required):</label>
                <select id="sec_term" name="sec_term" required>
                    <option value="">-- Select Term --</option>
                    {% for term in terms %}
                    <option value="{{ term }}">{{ term }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="sec_year">Year (Required):</label>
                <input 
                    type="number" 
                    id="sec_year" 
                    name="sec_year" 
                    required 
                    min="2000" 
                    max="2100" 
                    placeholder="Example: 2025">
            </div>
        </div>

        <div class="form-group">
            <label for="num_students">Number of Students Enrolled (Required):</label>
            <input 
                type="number" 
                id="num_students" 
                name="num_students" 
                required 
                min="0" 
                placeholder="Example: 30">
            <small>Enter how many students are in this section.</small>
        </div>
        
        <div class="form-group">
            <label for="instructor_select">Select Instructor (Required):</label>
            <select id="instructor_select" name="instructor_id" required>
                <option value="">-- Select Instructor --</option>
                {% for instructor in instructors %}
                <option value="{{ instructor.instructor_id }}">{{ instructor.instructor_name }} (ID: {{ instructor.instructor_id }})</option>
                {% endfor %}
            </select>
            <small>Pick the instructor who teaches this section.</small>
        </div>

        <button type="submit" class="btn btn-primary">Add Section & Assign Instructor</button>
    </form>
</div>

<style>
    /* Add basic styling for inline elements */
    .form-group-inline {
        display: flex;
        gap: 20px;
    }
    .form-group-inline .form-group {
        flex: 1;
    }
</style>
{% endblock %}
